## Домашнее задание к занятию "Pytest".

python version: 3.8


### 1. Написать тест.

Написать параметризованный тест, который будет выполнять запрос сюда:

```https://superheroapi.com/api/<access-token>/id```


Ограничения:
* Да, снова логин в Facebook :)
* Для **superheroapi.com** должен быть реализован отдельный http-client.
* В качестве параметра - предполагается массив из пяти случайных чисел в диапазоне [1-700].


###2.1. Реализовать декоратор быстрой проверки.

Реализовать декоратор **@smoke_check**, который будет вызываться перед разработанным тестом.

Функционал декоратора - проверить, что:
* код ответа успешен.
* в поле **response** указан статус **success**.
* декоратор должен быть размещен в директории **checkers**.

Пример предполагаемого решения:

```python
import pytest

@pytest.mark.parametrize(...)
@smoke_check
def test_superhero_example(*args):
    ...
    return response
```

### 2. Написать тест (woman is woman?).

Написать функцию, которая получает данные со страницы:

**https://www.superheroapi.com/ids.html**

и вытаскивает оттуда имена всех персонажей, у которых в имени указано **Woman** (non-case-sensitive поиск)

Примеры:
```json
Bionic Woman
Hawkwoman
Batwoman V
```

Полученные данные должны быть использованы для параметризации теста.

Сам тест должен:
1. Получить информацию о персонаже: ```https://superheroapi.com/api/<access-token>/id```

2. Проверить, что у всех полученных записей в поле **appearance/gender** - действительно указано **Female**.

Ограничения:
* Для ассертов нужно использовать библиотеку **pyHamcrest**.
* Для **superheroapi.com** должен быть реализован отдельный http-client.
* Для парсинга страницы со всеми персонажами рекомендуется использовать стандартную библиотеку **re**.

### 3. Написать тест (Batman vs Superman) с фикстурой.

Реализовать тест, который сравнивает силу персонажей.

Так как не для всех персонажей указаны характеристики (у многих **null**), требуется реализовать фикстуру для подготовки данных.

Фикстура должна:
* сформировать случайное число в диапазоне [1-700]
* проверить, что для данного персонажа указана характеристика **power**:

```https://www.superheroapi.com/api.php/<access-token>/id/powerstats```

* в случае успеха число должно быть сохранено, и процедуру следует повторить для второго параметра.

Далее из фикстуры нужно вызвать функцию **who_stronged**, которая должна:
1. Cравнить двух персонажей по параметру ```power```.
2. И вернуть имя (```name```) персонажа, который оказался сильнее.

В результате фикстура должна вернуть в тест пару ID, проверка по которым прошла успешно, и имя победителя.

Пример данных, где все хорошо:

```json
{
    "response": "success",
    "id": "505",
    "name": "Oracle",
    "intelligence": "75",
    "strength": "11",
    "speed": "23",
    "durability": "28",
    "power": "19",
    "combat": "76"
}
```

Задача теста:

1. Выполнить по каждому ID запрос: ```https://www.superheroapi.com/api.php/<access-token>/id```
2. Сравнить результаты двух запросов по параметру ```powerstats/power```.
3. Получить имя победителя.
4. И сравнить с тем, что было передано в тест из фикстуры - все должно совпасть.


### 4. Написать mock сервиса и прогнать тесты на нем

Мне кажется норм идея и вариконд задачи